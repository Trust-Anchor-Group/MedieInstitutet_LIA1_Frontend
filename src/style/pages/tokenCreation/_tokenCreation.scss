// src/style/pages/tokenCreation/_tokenCreation.scss

.token-creation {
  @include flex-container(row);
  gap: $standard-gap;
  padding: $standard-padding;

  &__form,
  &__preview {
    flex: 1;
    max-width: $section-max-width;
  }

  &__preview {
    @include sticky-element($standard-padding);
    align-self: flex-start;
    max-height: calc(100vh - #{2 * $standard-padding});
    overflow-y: auto;
  }

  .token-basics {
    @extend %full-width;
    margin-bottom: $gap-large;

    input, textarea {
      @extend %form-field;
    }

    textarea {
      @extend %textarea-field;
    }
  }

  .form-builder {
    @extend %full-width;

    .field-buttons {
      @include flex-container;
      justify-content: space-between;
      margin-bottom: $standard-gap;

      button {
        @extend %button-base;
      }
    }

    .form-field {
      @extend %card-styles;
      @include flex-container;
      flex-wrap: wrap;
      align-items: center;
      gap: $gap-small;
      margin-bottom: $gap-small;

      input, select {
        @extend %form-field;
        padding: $input-padding / 2;
        font-size: $input-font-size * 0.875;
      }

      label {
        display: flex;
        align-items: center;
        gap: $gap-small / 2;
      }

      button {
        @extend %error-button;
      }
    }
  }

  .preview-controls {
    @extend %full-width;
    @include flex-container;
    justify-content: space-between;
    margin-top: $standard-gap;

    button {
      @extend %button-base;

      &.preview-button {
        background-color: var(--secondary-color);
      }

      &.save-button {
        background-color: var(--button-primary-color);
      }
    }
  }

  @include responsive(tablet) {
    flex-direction: column;

    &__form,
    &__preview {
      max-width: 100%;
    }

    &__preview {
      position: static;
      max-height: none;
    }
  }
}

@include responsive(mobile) {
  .token-creation {
    .preview-controls {
      flex-direction: column;
      gap: $gap-small;

      button {
        width: 100%;
      }
    }
    
    .form-builder {
      .field-buttons {
        flex-wrap: wrap;
        gap: $gap-small;

        button {
          flex: 1 1 calc(50% - #{$gap-small / 2});
        }
      }
    }
  }
}